{"ast":null,"code":"var _jsxFileName = \"/Users/surabhishetty/Desktop/spotify-poster/top-album-poster-generator/src/Main.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { SpotifyAuth, Scopes } from \"react-spotify-auth\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst spotifyApi = new SpotifyWebApi();\nfunction Main() {\n  _s();\n  const [token, setToken] = useState(null);\n  const [topTracks, setTopTracks] = useState([]);\n  const [albumCovers, setAlbumCovers] = useState([]);\n  const onAccessToken = accessToken => {\n    setToken(accessToken);\n    spotifyApi.setAccessToken(accessToken);\n  };\n  useEffect(() => {\n    if (token) {\n      getTopTracks();\n    }\n  }, [token]);\n  async function getTopTracks() {\n    try {\n      console.log(\"spotifyApi:\", spotifyApi); // Add this line\n      console.log(\"accessToken:\", token); // Add this line\n      const response = await spotifyApi.getMyTopTracks({\n        time_range: \"long_term\",\n        limit: 16\n      });\n      setTopTracks(response.items);\n    } catch (err) {\n      console.error(spotifyApi.getAccessToken);\n      console.error(\"Error retrieving top tracks:\", err.response);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: token ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this), topTracks.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: topTracks.map(track => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: track.name\n        }, track.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(SpotifyAuth, {\n      clientID: \"ed8e6a84c4d94b31a47fa7f4d8e8c274\",\n      redirectUri: \"http://localhost:3000/callback\",\n      scopes: [\"streaming\", \"user-read-private\", \"user-read-email\"],\n      onAccessToken: onAccessToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"Nfa6kXqr6c8GyetULTQHJEE+ALE=\");\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","SpotifyAuth","Scopes","SpotifyWebApi","axios","jsxDEV","_jsxDEV","spotifyApi","Main","_s","token","setToken","topTracks","setTopTracks","albumCovers","setAlbumCovers","onAccessToken","accessToken","setAccessToken","getTopTracks","console","log","response","getMyTopTracks","time_range","limit","items","err","error","getAccessToken","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","track","name","id","clientID","redirectUri","scopes","_c","$RefreshReg$"],"sources":["/Users/surabhishetty/Desktop/spotify-poster/top-album-poster-generator/src/Main.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { SpotifyAuth, Scopes } from \"react-spotify-auth\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport axios from \"axios\";\n\nconst spotifyApi = new SpotifyWebApi();\n\nfunction Main() {\n  const [token, setToken] = useState(null);\n  const [topTracks, setTopTracks] = useState([]);\n  const [albumCovers, setAlbumCovers] = useState([]);\n\n  const onAccessToken = (accessToken) => {\n    setToken(accessToken);\n    spotifyApi.setAccessToken(accessToken);\n  };\n\n  useEffect(() => {\n    if (token) {\n      getTopTracks();\n    }\n  }, [token]);\n\n  async function getTopTracks() {\n    try {\n      console.log(\"spotifyApi:\", spotifyApi); // Add this line\n      console.log(\"accessToken:\", token); // Add this line\n      const response = await spotifyApi.getMyTopTracks({\n        time_range: \"long_term\",\n        limit: 16,\n      });\n      setTopTracks(response.items);\n    } catch (err) {\n      console.error(spotifyApi.getAccessToken);\n      console.error(\"Error retrieving top tracks:\", err.response);\n    }\n  }\n\n  return (\n    <div>\n      {token ? (\n        <div>\n          <p>{token}</p>\n          {topTracks.length > 0 && (\n            <ul>\n              {topTracks.map((track) => (\n                <li key={track.id}>{track.name}</li>\n              ))}\n            </ul>\n          )}\n        </div>\n      ) : (\n        <SpotifyAuth\n          clientID=\"ed8e6a84c4d94b31a47fa7f4d8e8c274\"\n          redirectUri=\"http://localhost:3000/callback\"\n          scopes={[\"streaming\", \"user-read-private\", \"user-read-email\"]}\n          onAccessToken={onAccessToken}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Main;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,MAAM,QAAQ,oBAAoB;AACxD,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,UAAU,GAAG,IAAIJ,aAAa,EAAE;AAEtC,SAASK,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACa,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAElD,MAAMiB,aAAa,GAAIC,WAAW,IAAK;IACrCN,QAAQ,CAACM,WAAW,CAAC;IACrBV,UAAU,CAACW,cAAc,CAACD,WAAW,CAAC;EACxC,CAAC;EAEDjB,SAAS,CAAC,MAAM;IACd,IAAIU,KAAK,EAAE;MACTS,YAAY,EAAE;IAChB;EACF,CAAC,EAAE,CAACT,KAAK,CAAC,CAAC;EAEX,eAAeS,YAAYA,CAAA,EAAG;IAC5B,IAAI;MACFC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEd,UAAU,CAAC,CAAC,CAAC;MACxCa,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEX,KAAK,CAAC,CAAC,CAAC;MACpC,MAAMY,QAAQ,GAAG,MAAMf,UAAU,CAACgB,cAAc,CAAC;QAC/CC,UAAU,EAAE,WAAW;QACvBC,KAAK,EAAE;MACT,CAAC,CAAC;MACFZ,YAAY,CAACS,QAAQ,CAACI,KAAK,CAAC;IAC9B,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZP,OAAO,CAACQ,KAAK,CAACrB,UAAU,CAACsB,cAAc,CAAC;MACxCT,OAAO,CAACQ,KAAK,CAAC,8BAA8B,EAAED,GAAG,CAACL,QAAQ,CAAC;IAC7D;EACF;EAEA,oBACEhB,OAAA;IAAAwB,QAAA,EACGpB,KAAK,gBACJJ,OAAA;MAAAwB,QAAA,gBACExB,OAAA;QAAAwB,QAAA,EAAIpB;MAAK;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,EACbtB,SAAS,CAACuB,MAAM,GAAG,CAAC,iBACnB7B,OAAA;QAAAwB,QAAA,EACGlB,SAAS,CAACwB,GAAG,CAAEC,KAAK,iBACnB/B,OAAA;UAAAwB,QAAA,EAAoBO,KAAK,CAACC;QAAI,GAArBD,KAAK,CAACE,EAAE;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAClB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAEL;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACG,gBAEN5B,OAAA,CAACL,WAAW;MACVuC,QAAQ,EAAC,kCAAkC;MAC3CC,WAAW,EAAC,gCAAgC;MAC5CC,MAAM,EAAE,CAAC,WAAW,EAAE,mBAAmB,EAAE,iBAAiB,CAAE;MAC9D1B,aAAa,EAAEA;IAAc;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAEhC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEV;AAACzB,EAAA,CAtDQD,IAAI;AAAAmC,EAAA,GAAJnC,IAAI;AAwDb,eAAeA,IAAI;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}